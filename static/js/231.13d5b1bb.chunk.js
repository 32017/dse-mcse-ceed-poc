(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[231],{1327:function(e,t,r){"use strict";r.d(t,{uC:function(){return D},TF:function(){return b},ov:function(){return x},HG:function(){return f},P0:function(){return v},AU:function(){return h},A4:function(){return m},_q:function(){return Z},Xp:function(){return N},TR:function(){return y},qo:function(){return j},qG:function(){return _},DH:function(){return C},Cs:function(){return P},bI:function(){return g}});var n=r(1413),s=r(74165),a=r(15861),i=r(31243).Z.create({baseURL:"https://ebu-lsp-api-dev.azurewebsites.net",timeout:6e4});i.interceptors.request.use((function(e){return console.log("Starting Request",JSON.stringify(e,null,2)),e})),i.interceptors.response.use((function(e){return 200===e.status?e.data:Promise.reject(e)}),(function(e){return Promise.reject(e)}));var o,u=i,c=r(32808),d=r.n(c),l=r(40757),p=function(e){return e+"?"+d().stringify({code:"G0JQzK7qoEKnPD8v1esiGhpVUigfOVqUggRfd6wCDXYrAzFu41ZG-w=="})},f=function(e){var t={body:{orderId:e}},r=p("api/getOrderById");return u.post(r,t.body)},m=function(e){var t={body:{statuses:e}},r=p("api/getOrdersByStatus");return u.post(r,t.body)},b=function(e,t){var r={body:{action:e,orderId:t}},n=p("api/approveOrder");return u.post(n,r.body)},h=function(e){var t={body:{taxID:e.taxID,orderId:e.orderId,startDate:e.startDate,endDate:e.endDate}},r=p("api/getOrders");return u.post(r,t.body)},v=function(e){var t={body:{company:e.company,createdDate:e.createdDate}},r=p("api/getOrderReports");return u.post(r,t.body)},x=function(e,t){return(o=o||(0,a.Z)((0,s.Z)().mark((function e(t,r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("https://ebudatadev.blob.core.windows.net/lspoutput/".concat(t,"-").concat(r,".json.gz"),{responseType:"arraybuffer"});case 2:return n=e.sent,e.abrupt("return",(0,l.xe)(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},g=function(e){var t={body:e,headers:{headers:{"Content-Type":"multipart/form-data"}}},r=p("api/uploadProductFile");return u.post(r,t.body,t.headers)},j=function(e){var t={body:{userName:e.userName,description:e.description,importFiles:e.importFiles}},r=p("api/saveProductVersion");return u.post(r,t.body,t.headers)},y=function(e){var t={body:(0,n.Z)({},e)},r=p("api/saveOrder");return u.post(r,t.body)},P=function(e){var t={body:(0,n.Z)({},e)},r=p("api/updateOrder");return u.post(r,t.body)},N=function(e){var t={body:(0,n.Z)({},e)},r=p("api/getProducts");return u.post(r,t.body)},Z=function(){var e=p("api/getProductVersions");return u.post(e)},D=function(){var e=p("api/adfPipelineTrigger");return u.post(e)},_=function(e){var t={body:{userName:e.userName,importFiles:e.importFiles}},r=p("api/updateLatestVersionData");return u.post(r,t.body,t.headers)},C=function(e){var t={body:{status:"IN_PROGRESS"}},r=p("api/updateLatestVersionData");return u.post(r,t.body,t.headers)}},14927:function(e,t,r){"use strict";var n=r(74165),s=r(15861),a=r(29439),i=r(72791);t.Z=function(e){var t,r=(0,i.useState)(null),o=(0,a.Z)(r,2),u=o[0],c=o[1],d=(0,i.useState)(""),l=(0,a.Z)(d,2),p=l[0],f=l[1],m=(0,i.useState)(!1),b=(0,a.Z)(m,2),h=b[0],v=b[1];return{data:u,error:p,loading:h,request:function(){return(t=t||(0,s.Z)((0,n.Z)().mark((function t(){var r,s,a,i,o,u=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(v(!0),f(""),r=u.length,s=new Array(r),a=0;a<r;a++)s[a]=u[a];return t.prev=3,t.next=6,e.apply(void 0,s);case 6:return i=t.sent,console.log("response: ",JSON.stringify(i)),console.log("apiFuntions: ",null===e||void 0===e?void 0:e.name),c(i),t.abrupt("return",i);case 13:t.prev=13,t.t0=t.catch(3),o="ReactNativeError: args: ".concat(s," ").concat(t.t0.message," "),console.error(o),f(t.t0.message||"API request Unexpected Error!");case 18:return t.prev=18,v(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[3,13,18,21]])})))).apply(this,arguments)},resetError:function(){f("")},resetData:function(){c(null)}}}},71368:function(e,t,r){"use strict";var n=r(29439),s=r(72791),a=r(78983),i=r(80184);t.Z=function(e){var t=(0,s.useState)(!1),r=(0,n.Z)(t,2),o=r[0],u=r[1];return(0,s.useEffect)((function(){u(e.isShow)}),[e.isShow]),o?(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)(a.LQ,{className:"m-5"})}):null}},9261:function(e,t,r){"use strict";r(72791);var n=r(96048),s=r.n(n),a=r(80184);t.Z=function(e){var t=e.totalPages,r=e.currentPage,n=e.handlePageChange;return(0,a.jsx)(s(),{previousLabel:"\u2190 Previous",nextLabel:"Next \u2192",pageCount:t,forcePage:r,onPageChange:n,marginPagesDisplayed:1,pageRangeDisplayed:2,containerClassName:"pagination",previousLinkClassName:"pagination__link",nextLinkClassName:"pagination__link",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active"})}},89715:function(e,t,r){"use strict";r.r(t);var n=r(4942),s=r(1413),a=r(29439),i=r(72791),o=r(78983),u=r(9261),c=r(1327),d=r(14927),l=r(40757),p=r(71368),f=r(80184),m=function(e){return(0,f.jsx)("div",{className:"d-flex justify-content-center p-5",children:e})};t.default=function(){var e,t,r,b,h=(0,d.Z)(c.P0),v=h.request,x=h.data,g=h.loading,j=h.error,y=(0,i.useState)(0),P=(0,a.Z)(y,2),N=P[0],Z=P[1],D=(0,i.useState)(1),_=(0,a.Z)(D,2),C=_[0],S=_[1],w=(0,i.useState)({company:"",createdDate:""}),k=(0,a.Z)(w,2),O=k[0],I=k[1];(0,i.useEffect)((function(){x&&"200"===x.status.toString()&&S(Math.ceil(x.data.reports.length/10))}),[x]);var q=10*N,F=q+10,L=null===x||void 0===x||null===(e=x.data)||void 0===e||null===(t=e.reports)||void 0===t?void 0:t.slice(q,F),R=function(e,t){I((0,s.Z)((0,s.Z)({},O),{},(0,n.Z)({},e,t)))};return j?m("\u7cfb\u7d71\u5fd9\u788c\u4e2d\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002"):(0,f.jsx)("div",{className:"lists-container px-3",children:(0,f.jsxs)(o.KB,{children:[(0,f.jsx)("div",{className:"form-box",children:(0,f.jsxs)(o.rb,{className:"mb-3",children:[(0,f.jsx)(o.b7,{md:3,sm:4,children:(0,f.jsx)(o.jO,{label:"\u5ba2\u6236\u540d\u7a31",placeholder:"\u8acb\u8f38\u5165\u5ba2\u6236\u540d\u7a31",defaultValue:O.company,onChange:function(e){return R("company",e.target.value)}})}),(0,f.jsx)(o.b7,{md:3,sm:4,children:(0,f.jsx)(o.jO,{type:"date",label:"\u8d77\u59cb\u65e5\u671f",placeholder:"\u8acb\u8f38\u5165\u65e5\u671f",defaultValue:O.createdDate,onChange:function(e){return R("createdDate",e.target.value)}})}),(0,f.jsx)(o.b7,{md:2,sm:4,className:"d-flex align-items-end",children:(0,f.jsx)(o.u5,{disabled:!O.company.length>0&&!O.createdDate,onClick:function(){v(O),Z(0)},color:"primary",children:"\u641c\u5c0b"})})]})}),(0,f.jsx)("div",{className:"list-head",children:(0,f.jsxs)(o.rb,{children:[(0,f.jsx)(o.b7,{sm:1,children:"\u5ba2\u6236\u540d\u7a31"}),(0,f.jsx)(o.b7,{sm:2,children:"\u8a02\u55ae\u7de8\u865f"}),(0,f.jsx)(o.b7,{sm:1,children:"Part Number"}),(0,f.jsx)(o.b7,{sm:1,children:"Product Description"}),(0,f.jsx)(o.b7,{sm:1,children:"Usage start Date"}),(0,f.jsx)(o.b7,{sm:1,children:"Unit of Measure"}),(0,f.jsx)(o.b7,{sm:1,children:"Unit of Price"}),(0,f.jsx)(o.b7,{sm:1,children:"License Qty"}),(0,f.jsx)(o.b7,{sm:1,children:"Total Amount"}),(0,f.jsx)(o.b7,{sm:1,children:"MS CPS Price"}),(0,f.jsx)(o.b7,{sm:1,children:"MS Cost Total"})]})}),g?(0,f.jsx)(p.Z,{isShow:!0}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"list-body",children:L&&L.length>0?L.map((function(e,t){return(0,f.jsx)("div",{className:"list-item",children:(0,f.jsxs)(o.rb,{children:[(0,f.jsx)(o.b7,{sm:1,children:e.company}),(0,f.jsx)(o.b7,{sm:2,children:e.orderId}),(0,f.jsx)(o.b7,{sm:1,children:e.partNum}),(0,f.jsx)(o.b7,{className:"ellipsis",sm:1,children:e.productDes}),(0,f.jsx)(o.b7,{sm:1,children:e.startDate}),(0,f.jsx)(o.b7,{sm:1,children:e.measure}),(0,f.jsx)(o.b7,{sm:1,children:e.unitPrice}),(0,f.jsx)(o.b7,{sm:1,children:e.QTY}),(0,f.jsx)(o.b7,{sm:1,children:(0,l.XY)(e.totalAmount)}),(0,f.jsx)(o.b7,{sm:1,children:(0,l.XY)(e.CPSprice)}),(0,f.jsx)(o.b7,{sm:1,children:(0,l.XY)(e.costTotal)})]})},e.num+"list"+t)})):m("\u7121\u8cc7\u6599")}),(null===x||void 0===x||null===(r=x.data)||void 0===r||null===(b=r.reports)||void 0===b?void 0:b.length)>10&&(0,f.jsx)(u.Z,{totalPages:C,currentPage:N,handlePageChange:function(e){Z(e.selected)}})]})]})})}},24654:function(){}}]);
//# sourceMappingURL=231.13d5b1bb.chunk.js.map