(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[231],{1327:function(e,t,r){"use strict";r.d(t,{TF:function(){return h},ov:function(){return x},HG:function(){return f},P0:function(){return v},AU:function(){return b},A4:function(){return m},_q:function(){return Z},Xp:function(){return N},TR:function(){return y},qo:function(){return j},Cs:function(){return P},bI:function(){return g}});var n=r(1413),s=r(74165),a=r(15861),i=r(31243).Z.create({baseURL:"https://ebu-lsp-api-dev.azurewebsites.net",timeout:6e4});i.interceptors.request.use((function(e){return console.log("Starting Request",JSON.stringify(e,null,2)),e})),i.interceptors.response.use((function(e){return 200===e.status?e.data:Promise.reject(e)}),(function(e){return Promise.reject(e)}));var o,c=i,u=r(32808),d=r.n(u),l=r(40757),p=function(e){return e+"?"+d().stringify({code:"G0JQzK7qoEKnPD8v1esiGhpVUigfOVqUggRfd6wCDXYrAzFu41ZG-w=="})},f=function(e){var t={body:{orderId:e}},r=p("api/getOrderById");return c.post(r,t.body)},m=function(e){var t={body:{status:e}},r=p("api/getOrdersByStatus");return c.post(r,t.body)},h=function(e,t){var r={body:{action:e,orderId:t}},n=p("api/approveOrder");return c.post(n,r.body)},b=function(e){var t={body:{taxID:e.taxID,orderId:e.orderId,startDate:e.startDate,endDate:e.endDate}},r=p("api/getOrders");return c.post(r,t.body)},v=function(e){var t={body:{company:e.company,createdDate:e.createdDate}},r=p("api/getOrderReports");return c.post(r,t.body)},x=function(e,t){return(o=o||(0,a.Z)((0,s.Z)().mark((function e(t,r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("https://ebudatadev.blob.core.windows.net/lspoutput/".concat(t,"-").concat(r,".json.gz"),{responseType:"arraybuffer"});case 2:return n=e.sent,e.abrupt("return",(0,l.xe)(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},g=function(e){var t={body:e,headers:{headers:{"Content-Type":"multipart/form-data"}}},r=p("api/uploadProductFile");return c.post(r,t.body,t.headers)},j=function(e){var t={body:{userName:e.userName,description:e.description,importFiles:e.importFiles}},r=p("api/saveProductVersion");return c.post(r,t.body,t.headers)},y=function(e){var t={body:(0,n.Z)({},e)},r=p("api/saveOrder");return c.post(r,t.body)},P=function(e){var t={body:(0,n.Z)({},e)},r=p("api/updateOrder");return c.post(r,t.body)},N=function(e){var t={body:(0,n.Z)({},e)},r=p("api/getProducts");return c.post(r,t.body)},Z=function(){var e=p("api/getProductVersions");return c.post(e)}},14927:function(e,t,r){"use strict";var n=r(74165),s=r(15861),a=r(29439),i=r(72791);t.Z=function(e){var t,r=(0,i.useState)(null),o=(0,a.Z)(r,2),c=o[0],u=o[1],d=(0,i.useState)(""),l=(0,a.Z)(d,2),p=l[0],f=l[1],m=(0,i.useState)(!1),h=(0,a.Z)(m,2),b=h[0],v=h[1];return{data:c,error:p,loading:b,request:function(){return(t=t||(0,s.Z)((0,n.Z)().mark((function t(){var r,s,a,i,o,c=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(v(!0),f(""),r=c.length,s=new Array(r),a=0;a<r;a++)s[a]=c[a];return t.prev=3,t.next=6,e.apply(void 0,s);case 6:return i=t.sent,console.log("response: ",JSON.stringify(i)),console.log("apiFuntions: ",null===e||void 0===e?void 0:e.name),u(i),t.abrupt("return",i);case 13:t.prev=13,t.t0=t.catch(3),o="ReactNativeError: args: ".concat(s," ").concat(t.t0.message," "),console.error(o),f(t.t0.message||"API request Unexpected Error!");case 18:return t.prev=18,v(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[3,13,18,21]])})))).apply(this,arguments)},resetError:function(){f("")},resetData:function(){u(null)}}}},71368:function(e,t,r){"use strict";var n=r(29439),s=r(72791),a=r(78983),i=r(80184);t.Z=function(e){var t=(0,s.useState)(!1),r=(0,n.Z)(t,2),o=r[0],c=r[1];return(0,s.useEffect)((function(){c(e.isShow)}),[e.isShow]),o?(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)(a.LQ,{className:"m-5"})}):null}},9261:function(e,t,r){"use strict";r(72791);var n=r(96048),s=r.n(n),a=r(80184);t.Z=function(e){var t=e.totalPages,r=e.currentPage,n=e.handlePageChange;return(0,a.jsx)(s(),{previousLabel:"\u2190 Previous",nextLabel:"Next \u2192",pageCount:t,forcePage:r,onPageChange:n,marginPagesDisplayed:1,pageRangeDisplayed:2,containerClassName:"pagination",previousLinkClassName:"pagination__link",nextLinkClassName:"pagination__link",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active"})}},89715:function(e,t,r){"use strict";r.r(t);var n=r(29439),s=r(72791),a=r(78983),i=r(9261),o=r(1327),c=r(14927),u=r(40757),d=r(71368),l=r(80184),p=function(e){return(0,l.jsx)("div",{className:"d-flex justify-content-center p-5",children:e})};t.default=function(){var e,t,r,f,m,h=(0,c.Z)(o.P0),b=h.request,v=h.data,x=h.loading,g=h.error,j=(0,s.useState)(0),y=(0,n.Z)(j,2),P=y[0],N=y[1],Z=(0,s.useState)(1),_=(0,n.Z)(Z,2),C=_[0],D=_[1],S=(0,s.useState)({company:"",createdDate:""}),w=(0,n.Z)(S,2),k=w[0],O=w[1];(0,s.useEffect)((function(){v&&"200"===v.status.toString()&&D(Math.ceil(v.data.reports.length/10))}),[v]);var I=10*P,q=I+10,T=null===v||void 0===v||null===(e=v.data)||void 0===e||null===(t=e.reports)||void 0===t?void 0:t.slice(I,q);console.log(null===v||void 0===v||null===(r=v.data)||void 0===r?void 0:r.reports,P);var U=function(e,t){k[e]=t,O(k)};return g?p("\u7cfb\u7d71\u5fd9\u788c\u4e2d\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002"):(0,l.jsx)("div",{className:"lists-container px-3",children:(0,l.jsxs)(a.KB,{children:[(0,l.jsx)("div",{className:"form-box",children:(0,l.jsxs)(a.rb,{className:"mb-3",children:[(0,l.jsx)(a.b7,{md:3,sm:4,children:(0,l.jsx)(a.jO,{label:"\u5ba2\u6236\u540d\u7a31",placeholder:"\u8acb\u8f38\u5165\u5ba2\u6236\u540d\u7a31",defaultValue:k.company,onChange:function(e){return U("company",e.target.value)}})}),(0,l.jsx)(a.b7,{md:3,sm:4,children:(0,l.jsx)(a.jO,{type:"date",label:"\u8d77\u59cb\u65e5\u671f",placeholder:"\u8acb\u8f38\u5165\u65e5\u671f",defaultValue:k.createdDate,onChange:function(e){return U("createdDate",e.target.value)}})}),(0,l.jsx)(a.b7,{md:2,sm:4,className:"d-flex align-items-end",children:(0,l.jsx)(a.u5,{onClick:function(){return b(k),void N(0)},color:"primary",children:"\u641c\u5c0b"})})]})}),(0,l.jsx)("div",{className:"list-head",children:(0,l.jsxs)(a.rb,{children:[(0,l.jsx)(a.b7,{sm:1,children:"\u5ba2\u6236\u540d\u7a31"}),(0,l.jsx)(a.b7,{sm:2,children:"\u8a02\u55ae\u7de8\u865f"}),(0,l.jsx)(a.b7,{sm:1,children:"Part Number"}),(0,l.jsx)(a.b7,{sm:1,children:"Product Description"}),(0,l.jsx)(a.b7,{sm:1,children:"Usage start Date"}),(0,l.jsx)(a.b7,{sm:1,children:"Unit of Measure"}),(0,l.jsx)(a.b7,{sm:1,children:"Unit of Price"}),(0,l.jsx)(a.b7,{sm:1,children:"License Qty"}),(0,l.jsx)(a.b7,{sm:1,children:"Total Amount"}),(0,l.jsx)(a.b7,{sm:1,children:"MS CPS Price"}),(0,l.jsx)(a.b7,{sm:1,children:"MS Cost Total"})]})}),x?(0,l.jsx)(d.Z,{isShow:!0}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"list-body",children:T&&T.length>0?T.map((function(e,t){return(0,l.jsx)("div",{className:"list-item",children:(0,l.jsxs)(a.rb,{children:[(0,l.jsx)(a.b7,{sm:1,children:e.company}),(0,l.jsx)(a.b7,{sm:2,children:e.orderId}),(0,l.jsx)(a.b7,{sm:1,children:e.partNum}),(0,l.jsx)(a.b7,{className:"ellipsis",sm:1,children:e.productDes}),(0,l.jsx)(a.b7,{sm:1,children:e.startDate}),(0,l.jsx)(a.b7,{sm:1,children:e.measure}),(0,l.jsx)(a.b7,{sm:1,children:e.unitPrice}),(0,l.jsx)(a.b7,{sm:1,children:e.QTY}),(0,l.jsx)(a.b7,{sm:1,children:(0,u.XY)(e.totalAmount)}),(0,l.jsx)(a.b7,{sm:1,children:(0,u.XY)(e.CPSprice)}),(0,l.jsx)(a.b7,{sm:1,children:(0,u.XY)(e.costTotal)})]})},e.num+"list"+t)})):p("\u7121\u8cc7\u6599")}),(null===v||void 0===v||null===(f=v.data)||void 0===f||null===(m=f.reports)||void 0===m?void 0:m.length)>10&&(0,l.jsx)(i.Z,{totalPages:C,currentPage:P,handlePageChange:function(e){N(e.selected)}})]})]})})}},24654:function(){}}]);
//# sourceMappingURL=231.695692ee.chunk.js.map