"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[738],{92256:function(e,r,t){t.d(r,{M:function(){return a},z:function(){return n}});var n=[{num:"00000017",client:"CviLux Group",createDate:"2023-08-10",statusText:"\u5be9\u6838\u4e2d",status:"B"},{num:"00000016",client:"CviLux Group",createDate:"2023-07-10",statusText:"\u7de8\u8f2f\u4e2d",status:"A"},{num:"00000015",client:"CviLux Group",createDate:"2023-06-10",statusText:"\u5df2\u6838\u51c6",status:"C"},{num:"00000014",client:"CviLux Group",createDate:"2023-05-10",statusText:"\u5df2\u7d42\u6b62",status:"E"},{num:"00000013",client:"CviLux Group",createDate:"2023-04-10",statusText:"\u5df2\u6210\u6848",status:"D"}],a={basicInfo:{orderNum:"00000017",company:"CviLux Group",taxID:"23632274",contactPerson:"\u9ec3\u4f38\u5149",email:"Mason.Huang@cvilux.com",phone:"02-2620-1000",address:"251\u65b0\u5317\u5e02\u6de1\u6c34\u5340\u4e2d\u6b63\u6771\u8def\u4e00\u6bb53\u5df79\u865f9F"},quotationLists:[{partNum:"AAA-10842",productDes:"O365 E3 Sub Per User",startDate:null,measure:"1 Month(s)",quantity:12,unitPrice:808,QTY:0,country:"Taiwan",totalAmount:0,estimatedRetailPrice:0,currentNetPrice:878,discountedNetPrice:5265,customerDiscount:0,maximumReslaePrice:0,markupMargin:0},{partNum:"AAA-10756",productDes:"M365 E3 Unified Sub Per User",startDate:null,measure:"1 Month(s)",quantity:12,unitPrice:1170,QTY:500,country:"Taiwan",totalAmount:7020,estimatedRetailPrice:25,currentNetPrice:878,discountedNetPrice:5265,customerDiscount:0,maximumReslaePrice:0,markupMargin:0}]}},9738:function(e,r,t){t.r(r),t.d(r,{default:function(){return P}});var n=t(1413),a=t(93433),l=t(29439),i=t(72791),s=t(57689),c=t(24846),u=t(11941),o=t(24108),d=t(763),m=t(34404),h=t.n(m),x=t(56729),j=t(78983),p=t(80184),N=function(e){var r=(0,i.useState)(!1),t=(0,l.Z)(r,2),n=t[0],a=t[1];return(0,i.useEffect)((function(){a(e.isShow)}),[e.isShow]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(j.Tk,{alignment:"center",visible:n,onClose:e.closeErrorModal,children:[(0,p.jsx)(j.p0,{children:(0,p.jsx)(j.fl,{children:"\u767c\u751f\u932f\u8aa4"})}),(0,p.jsx)(j.sD,{children:e.errorContain}),(0,p.jsx)(j.Ym,{children:(0,p.jsx)(j.u5,{color:"primary",onClick:e.closeErrorModal,children:"\u6211\u77e5\u9053\u4e86"})})]})})},f=t(92256),g={orderNum:"",company:"",taxID:"",contactPerson:"",email:"",phone:"",address:""},b=[{partNum:"",productDes:"",startDate:null,measure:"",quantity:null,unitPrice:null,QTY:null,country:"",totalAmount:null,estimatedRetailPrice:null,currentNetPrice:null,discountedNetPrice:null,customerDiscount:null,maximumReslaePrice:null,markupMargin:null}],P=function(){var e=new(h())({length:5}),r=(0,s.UO)().childPath,t=(0,i.useState)(!1),m=(0,l.Z)(t,2),P=m[0],y=m[1],v=(0,i.useState)(0),k=(0,l.Z)(v,2),D=k[0],C=k[1],_=(0,i.useState)(g),A=(0,l.Z)(_,2),S=A[0],T=A[1],O=(0,i.useState)(b),w=(0,l.Z)(O,2),R=w[0],M=w[1],Z=(0,i.useState)(!1),U=(0,l.Z)(Z,2),L=U[0],V=U[1],E=(0,i.useState)({keywords:"",level:"A"}),Y=(0,l.Z)(E,2),q=Y[0],z=Y[1],Q=(0,i.useState)([]),W=(0,l.Z)(Q,2),I=W[0],G=W[1],X=(0,i.useState)(null),B=(0,l.Z)(X,2),F=B[0],K=B[1],H=function(e,r,t){var n=(0,d.cloneDeep)(R[e]),a=(0,d.cloneDeep)(R);n[r]=t;var l=n.discountedNetPrice,i=n.markupMargin,s=n.currentNetPrice,c=n.quantity,u=n.QTY;l&&i&&(n.unitPrice=l*(1+i/100)),l&&(n.customerDiscount=Math.round((s-l)/s*1e4)/100),c&&n.unitPrice&&u&&(n.totalAmount=c*n.unitPrice*u),a[e]=n,M(a),K($(a))},$=function(e){var r=0;return e.forEach((function(e){r+=e.totalAmount})),r},J=function(e,r){var t=(0,d.cloneDeep)(S);t[e]=r,T(t)},ee=function(r){return r.map((function(r){return(0,n.Z)((0,n.Z)({},r),{},{uniKey:e.rnd()})}))};return(0,i.useEffect)((function(){r&&"edit"===r?(T(f.M.basicInfo),M(ee(f.M.quotationLists))):(T(g),M(ee(b)))}),[r]),(0,p.jsxs)(j.lx,{action:"",method:"post",children:[(0,p.jsxs)(j.rb,{className:"form-box",children:[(0,p.jsxs)(j.rb,{className:"mb-3",children:[(0,p.jsx)(j.b7,{md:4,children:(0,p.jsx)(j.jO,{label:"\u8a02\u55ae\u7de8\u865f",placeholder:"\u8acb\u8f38\u5165\u8a02\u55ae\u7de8\u865f",defaultValue:S.orderNum,onChange:function(e){return J("orderNum",e.target.value)},required:!0})}),(0,p.jsx)(j.b7,{md:4,children:(0,p.jsx)(j.jO,{label:"\u5ba2\u6236\u540d\u7a31",placeholder:"\u8acb\u8f38\u5165\u5ba2\u6236\u540d\u7a31",defaultValue:S.company,onChange:function(e){return J("company",e.target.value)},required:!0})}),(0,p.jsx)(j.b7,{md:4,children:(0,p.jsx)(j.jO,{label:"\u7d71\u4e00\u7de8\u865f",placeholder:"\u8acb\u8f38\u5165\u7d71\u4e00\u7de8\u865f",defaultValue:S.taxID,onChange:function(e){return J("taxID",e.target.value)},required:!0})})]}),(0,p.jsxs)(j.rb,{className:"mb-3",children:[(0,p.jsx)(j.b7,{md:4,children:(0,p.jsx)(j.jO,{label:"\u806f\u7d61\u4eba",placeholder:"\u8acb\u8f38\u5165\u59d3\u540d",defaultValue:S.contactPerson,onChange:function(e){return J("contactPerson",e.target.value)}})}),(0,p.jsx)(j.b7,{md:4,children:(0,p.jsx)(j.jO,{type:"email",label:"Email",placeholder:"\u8acb\u8f38\u5165Email",defaultValue:S.email,onChange:function(e){return J("email",e.target.value)}})}),(0,p.jsx)(j.b7,{md:4,children:(0,p.jsx)(j.jO,{label:"\u96fb\u8a71",placeholder:"\u8acb\u8f38\u5165\u96fb\u8a71",defaultValue:S.phone})})]}),(0,p.jsx)(j.rb,{children:(0,p.jsx)(j.b7,{md:12,children:(0,p.jsx)(j.jO,{label:"\u5730\u5740",placeholder:"\u8acb\u8f38\u5165\u5730\u5740",defaultValue:S.address})})})]}),(0,p.jsx)(j.u5,{onClick:function(){return V(!L)},children:"\u932f\u8aa4\u8df3\u7a97"}),(0,p.jsx)(N,{isShow:L,closeErrorModal:function(){return V(!1)},errorContain:"\u7121\u6cd5\u5efa\u7acb\u300c\u5831\u50f9\u55ae\u865f\uff1a XXXXX\u300d(\u55ae\u865f\u5df2\u5b58\u5728)"}),(0,p.jsx)(j.rb,{className:"mb-2",children:(0,p.jsxs)("div",{className:"px-0 d-flex justify-content-between align-items-center",children:[(0,p.jsx)("h5",{className:"mb-0",children:"\u670d\u52d9\u5831\u50f9"}),(0,p.jsx)(j.u5,{color:"primary",shape:"rounded-pill",onClick:function(){var e=[].concat((0,a.Z)(R),[(0,d.cloneDeep)(ee(b)[0])]);console.log("newDataLists",e),M(e)},children:"\u65b0\u589e\u9805\u76ee"})]})}),(0,p.jsx)(j.rb,{className:"form-box px-2 overflow-scroll",children:(0,p.jsx)(j.Sx,{hover:!0,className:"table-bg-none",columns:[{key:"Part Number",label:"Part Number",_style:{minWidth:"145px"}},{key:"Product Description",label:"Product Description",_style:{minWidth:"300px"}},{key:"Usge start Date",label:"Usge start Date"},{key:"Unit of Measure",label:"Unit of Measure"},{key:"Unit of Quantity",label:"Unit of Quantity"},{key:"Unit Price (TWD)",label:"Unit Price (TWD)"},{key:"License Qty",label:"License Qty"},{key:"Usage country",label:"Usage country"},{key:"Total Amount (TWD)",label:"Total Amount (TWD)"},{key:"Estimated Retail Price",label:"Estimated Retail Price/\u50f9\u683c\u518a",_props:{className:"text-success"}},{key:"Current Net Price (TWD)",label:"Current Net Price (TWD)/\u50f9\u683c\u518a",_props:{className:"text-success"}},{key:"Discounted Net Price (CPS)",label:"Discounted Net Price (CPS)",_props:{className:"text-success"}},{key:"Customer Discount %",label:"Customer Discount %",_props:{className:"text-success"}},{key:"Maximum Reslae Price (MRP)",label:"Maximum Reslae Price (MRP)",_props:{className:"text-success"}},{key:"mark up margin",label:"mark up margin",_props:{className:"text-warning"},_style:{minWidth:"120px"}},{key:"active",label:""}],children:(0,p.jsxs)(j.NR,{children:[R&&R.length?R.map((function(e,r){return(0,p.jsxs)(j.T6,{children:[(0,p.jsxs)(j.NN,{align:"middle",className:"d-flex align-items-center",children:[(0,p.jsx)(j.jO,{defaultValue:e.partNum||"",size:"sm",disabled:!0,readOnly:!0,onChange:function(e){return H(r,"partNum",e.target.value)}}),(0,p.jsx)(c.Z,{icon:u.B,size:"xxl",className:"ms-1 action-icon",onClick:function(){return e=r,y(!0),void C(e);var e}})]}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)(j.jO,{defaultValue:e.productDes||"",size:"sm",disabled:!0,readOnly:!0})}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)(j.jO,{type:"date",defaultValue:e.startDate||"",size:"sm",onChange:function(e){return H(r,"startDate",e.target.value)}})}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)(j.jO,{defaultValue:e.measure||"",onChange:function(e){return H(r,"measure",e.target.value)},size:"sm"})}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)(j.jO,{type:"number",min:0,defaultValue:e.quantity||"",size:"sm",onChange:function(e){return H(r,"quantity",e.target.value)}})}),(0,p.jsx)(j.NN,{align:"middle",children:e.unitPrice||"-"}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)(j.jO,{type:"number",defaultValue:e.QTY||"",size:"sm",min:0,onChange:function(e){return H(r,"QTY",e.target.value)}})}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)(j.jO,{defaultValue:e.country||"",size:"sm",onChange:function(e){return H(r,"country",e.target.value)}})}),(0,p.jsx)(j.NN,{align:"middle",children:(0,x.Z)(e.totalAmount)||"-"}),(0,p.jsx)(j.NN,{align:"middle",children:(0,x.Z)(e.estimatedRetailPrice)||"-"}),(0,p.jsx)(j.NN,{align:"middle",children:(0,x.Z)(e.currentNetPrice)||"-"}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)(j.jO,{type:"number",defaultValue:e.discountedNetPrice||"",size:"sm",min:0,onChange:function(e){return H(r,"discountedNetPrice",e.target.value)}})}),(0,p.jsxs)(j.NN,{align:"middle",children:[e.customerDiscount||"-","%"]}),(0,p.jsx)(j.NN,{align:"middle",children:e.maximumReslaePrice||"-"}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsxs)(j.YR,{size:"sm",children:[(0,p.jsx)(j.jO,{type:"number",defaultValue:e.markupMargin||"",min:0,onChange:function(e){return H(r,"markupMargin",e.target.value)}}),(0,p.jsx)(j.wV,{children:"%"})]})}),(0,p.jsx)(j.NN,{align:"middle",children:(0,p.jsx)("div",{className:"d-flex align-items-center",onClick:function(){return function(e){if(!R||1!==R.length){var r=(0,d.cloneDeep)(R);r.splice(e,1),M(r),K($(r))}}(r)},children:(0,p.jsx)("div",{className:"action-icon deleted-icon",children:(0,p.jsx)(c.Z,{className:"text-light",icon:o.c})})})})]},"".concat(e.partNum,"_").concat(e.uniKey," "))})):null,(0,p.jsx)(j.T6,{children:(0,p.jsxs)(j.NN,{colSpan:16,children:["\u5c0f\u8a08\uff1aNT$",(0,x.Z)(F)||"-"]})})]})})}),(0,p.jsx)(j.rb,{className:"mb-2",children:(0,p.jsx)("div",{className:"px-0 d-flex justify-content-between align-items-center",children:(0,p.jsx)("h5",{className:"mb-0",children:"\u5099\u8a3b"})})}),(0,p.jsx)(j.rb,{className:"form-box px-2",children:(0,p.jsx)(j.b7,{md:12,children:(0,p.jsx)(j.PB,{rows:3})})}),(0,p.jsxs)(j.Tk,{className:"product-select-modal",visible:P,onClose:function(){return y(!1)},children:[(0,p.jsx)(j.p0,{children:(0,p.jsx)(j.fl,{children:"\u641c\u5c0b\u7522\u54c1\u9805\u76ee"})}),(0,p.jsxs)(j.sD,{children:[(0,p.jsx)("div",{className:"px-2",children:(0,p.jsxs)(j.rb,{children:[(0,p.jsx)(j.b7,{className:"col-8",children:(0,p.jsxs)(j.YR,{children:[(0,p.jsx)(j.wV,{children:"\u95dc\u9375\u5b57"}),(0,p.jsx)(j.jO,{placeholder:"\u8acb\u8f38\u5165\u54c1\u9805\u95dc\u9375\u5b57(\u81f3\u5c11\u70ba5\u5b57)",minLength:5,onChange:function(e){return z((0,n.Z)((0,n.Z)({},q),{},{keywords:e.target.value}))}})]})}),(0,p.jsx)(j.b7,{className:"col-2",children:(0,p.jsxs)(j.YR,{children:[(0,p.jsx)(j.wV,{children:"Level"}),(0,p.jsxs)(j.LX,{onChange:function(e){return z((0,n.Z)((0,n.Z)({},q),{},{level:e.target.value}))},children:[(0,p.jsx)("option",{value:"A",children:"A"}),(0,p.jsx)("option",{value:"B",children:"B"}),(0,p.jsx)("option",{value:"C",children:"C"}),(0,p.jsx)("option",{value:"D",children:"D"})]})]})}),(0,p.jsx)(j.b7,{className:"col-2",children:(0,p.jsx)(j.u5,{className:"w-100",color:"primary",variant:"outline",onClick:function(){if(q.keywords&&!(!q.keywords.length<5)&&q.level)return G([{itemName:"Office Professional Plus ALng SASU Office Standard Platform",level:"A",purchaseUnit:"1 Year(s)",purchasePeriod:"Added at Signing",currentNetPrice:"2544.12",estimatedRetailPrice:"3246"},{itemName:"Office Professional Plus ALng LSA",level:"A",purchaseUnit:"1 Year(s)",purchasePeriod:"Added at Signing",currentNetPrice:"9528.68",estimatedRetailPrice:"12157"}])},children:"\u641c\u5c0b\u76f8\u95dc\u54c1\u9805"})})]})}),(0,p.jsxs)("div",{className:"px-2 py-4",children:[(0,p.jsx)("h5",{children:"\u7be9\u9078\u7d50\u679c"}),(0,p.jsx)("div",{children:(0,p.jsx)(j.Sx,{hover:!0,columns:[{key:"action",label:"\u9078\u64c7",_props:{color:"dark"},_style:{width:"50px"}},{key:"search_pd_name",label:"Item Name",_props:{color:"dark"},_style:{width:"40%"}},{key:"search_level",label:"Level",_props:{color:"dark"}},{key:"search_purchase_unit",label:"Purchase Unit",_props:{color:"dark"}},{key:"search_purchase_period",label:"Purchase Period",_props:{color:"dark"}},{key:"search_current_net_price",label:"Current Net Price",_props:{color:"dark"}},{key:"search_estimated_retail_price",label:"Estimated Retail Price",_props:{color:"dark"}}],children:(0,p.jsx)(j.NR,{children:I&&I.length?I.map((function(e,r){return(0,p.jsxs)(j.T6,{children:[(0,p.jsx)(j.NN,{children:(0,p.jsx)(j.EC,{type:"radio",name:"exampleRadios",id:e.itemName,value:r})}),(0,p.jsx)(j.NN,{children:e.itemName}),(0,p.jsx)(j.NN,{children:e.level}),(0,p.jsx)(j.NN,{children:e.purchaseUnit}),(0,p.jsx)(j.NN,{children:e.purchasePeriod}),(0,p.jsx)(j.NN,{children:e.currentNetPrice}),(0,p.jsx)(j.NN,{children:e.estimatedRetailPrice})]},"".concat(e.itemName,"_").concat(e.purchasePeriod))})):null})})})]})]}),(0,p.jsxs)(j.Ym,{children:[(0,p.jsx)(j.u5,{color:"secondary",onClick:function(){return y(!1)},children:"Close"}),(0,p.jsx)(j.u5,{color:"primary",onClick:function(){var e=(0,d.cloneDeep)(R[D]);e.productDes="Office Professional Plus ALng SASU Office Standard Platform",e.partNum="269-05623",e.estimatedRetailPrice=12157,e.currentNetPrice=9528.68;var r=R;r[D]=e,M(r),z({keywords:"",level:"A"}),G([]),y(!1)},children:"\u9078\u64c7"})]})]})]})}}}]);
//# sourceMappingURL=738.0e7bfed9.chunk.js.map